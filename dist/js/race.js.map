{"version":3,"sources":["../../js/race.js"],"names":["canvas","document","querySelector","context","getContext","BgTrack","ctx","count","FPS","timeout","i","img","Image","clearRect","width","height","onload","drawImage","src","clearTimeout","setTimeout","move","bind","bgTrack"],"mappings":";;;;;;AAAA,IAAIA,SAASC,SAASC,aAAT,CAAuB,SAAvB,CAAb;AACA,IAAIC,UAAUH,OAAOI,UAAP,CAAkB,IAAlB,CAAd;;IAEMC,O;AACF,qBAAYC,GAAZ,EAAgBC,KAAhB,EAAsBC,GAAtB,EAA0B;AAAA;;AACtB,aAAKF,GAAL,GAAWA,GAAX;AACA,aAAKC,KAAL,GAAaA,KAAb;AACA,aAAKC,GAAL,GAAWA,GAAX;AACA,aAAKC,OAAL,GAAe,IAAf;AACA,aAAKC,CAAL,GAAS,CAAT;AACH;;;;+BACK;AAAA;;AACF,gBAAIC,MAAM,IAAIC,KAAJ,EAAV;AACA,iBAAKN,GAAL,CAASO,SAAT,CAAmB,CAAnB,EAAqB,CAArB,EAAuBF,IAAIG,KAA3B,EAAiCH,IAAII,MAArC;AACAJ,gBAAIG,KAAJ,GAAYd,OAAOc,KAAnB;AACAH,gBAAII,MAAJ,GAAaf,OAAOe,MAApB;AACAJ,gBAAIK,MAAJ,GAAa;AAAA,uBAAM,MAAKV,GAAL,CAASW,SAAT,CAAmBN,GAAnB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2BA,IAAIG,KAA/B,EAAqCH,IAAII,MAAzC,CAAN;AAAA,aAAb;AACAJ,gBAAIO,GAAJ,mCAAwC,KAAKR,CAA7C;AACA,iBAAKA,CAAL;AACA,gBAAG,KAAKA,CAAL,GAAO,KAAKH,KAAf,EAAqB;AACjBY,6BAAa,KAAKV,OAAlB;AACA;AACH;AACD,iBAAKA,OAAL,GAAeW,WAAW,KAAKC,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAX,EAAgC,KAAKd,GAArC,CAAf;AACH;;;;;;AAGL,IAAIe,UAAU,IAAIlB,OAAJ,CAAYF,OAAZ,EAAoB,GAApB,EAAwB,GAAxB,CAAd;AACAoB,QAAQF,IAAR","file":"race.js","sourcesContent":["let canvas = document.querySelector('#canvas');\r\nlet context = canvas.getContext('2d');\r\n\r\nclass BgTrack {\r\n    constructor(ctx,count,FPS){\r\n        this.ctx = ctx;\r\n        this.count = count;\r\n        this.FPS = FPS;\r\n        this.timeout = null;\r\n        this.i = 0;\r\n    }\r\n    move(){\r\n        let img = new Image();\r\n        this.ctx.clearRect(0,0,img.width,img.height);\r\n        img.width = canvas.width;\r\n        img.height = canvas.height;\r\n        img.onload = () => this.ctx.drawImage(img,0,0,img.width,img.height);\r\n        img.src = `./images/bg_track/bg_track_${this.i}.jpg`;\r\n        this.i++;\r\n        if(this.i>this.count){\r\n            clearTimeout(this.timeout);\r\n            return;\r\n        }\r\n        this.timeout = setTimeout(this.move.bind(this),this.FPS);\r\n    }\r\n}\r\n\r\nlet bgTrack = new BgTrack(context,396,100);\r\nbgTrack.move();"]}